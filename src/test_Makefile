# some macros
CC		= C:/Rtools/mingw_64/bin/gcc.exe
CFLAGS		= -std=c11 -O0
R_C_HEADER	= C:/"Program Files"/R/R-3.5.1/include
#BLAS_LIBS	= C:/"Program Files"/R/R-3.5.1/bin/x64/Rblas.dll 
#LAPACK_LIBS	= C:/"Program Files"/R/R-3.5.1/bin/x64/Rlapack.dll 
DLL_R		= C:/"Program Files"/R/R-3.5.1/bin/x64/R.dll

# link
testcases: testcases.o wquantile.o 
	$(CC) $@.o $(DLL_R) wquantile.o

# compile
wquantile.o: wquantile.c 
	$(CC) -Wall --pedantic -I $(R_C_HEADER) -c $*.c $(CFLAGS) 

# compile
testcases.o: testcases.c 
	$(CC) -Wall --pedantic -I $(R_C_HEADER) -c $*.c $(CFLAGS) 

# housekeeping (using make clean)
.PHONY: clean
clean: 
	rm wquantile.o 
