# some macros
CC		= gcc 
CFLAGS		= -g -std=gnu99 -O2
R_C_HEADER	= /usr/share/R/include/
DLL_BLAS	= /usr/lib/x86_64-linux-gnu/libblas.so
DLL_LAPACK	= /usr/lib/x86_64-linux-gnu/liblapack.so
DLL_R		= /usr/lib/R/lib/libR.so

# link
testcases: testcases.o wquantile.o 
	$(CC) $@.o -L $(DLL_R) wquantile.o -lm -lR -o test.out

# compile
wquantile.o: wquantile.c 
	$(CC) -Wall --pedantic -I $(R_C_HEADER) -c $*.c $(CFLAGS) 

# compile
testcases.o: testcases.c 
	$(CC) -Wall --pedantic -I $(R_C_HEADER) -c $*.c $(CFLAGS) 

# housekeeping (using make clean)
.PHONY: clean
clean: 
	rm wquantile.o 
